{
  "version": 3,
  "file": "input.js",
  "sourceRoot": "",
  "sources": [
    "input.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "exports.keyboardLayer = new Layer\n\tx:0, y:Screen.height, width:Screen.width, height:432\n\thtml:\"<img style='width: 100%;' src='modules/keyboard.png'/>\"\n\n#screen width vs. size of image width\ngrowthRatio = Screen.width / 732\nimageHeight = growthRatio * 432\n\n# Extends the LayerStyle class which does the pixel ratio calculations in framer\n_inputStyle =\n\tObject.assign({}, Framer.LayerStyle,\n\t\tcalculatePixelRatio = (layer, value) ->\n\t\t\t(value * layer.context.pixelMultiplier) + \"px\"\n\n\t\tfontSize: (layer) ->\n\t\t\tcalculatePixelRatio(layer, layer._properties.fontSize)\n\n\t\tlineHeight: (layer) ->\n\t\t\t(layer._properties.lineHeight) + \"em\"\n\n\t\tpadding: (layer) ->\n\t\t\t{ pixelMultiplier } = layer.context\n\t\t\tpadding = []\n\t\t\tpaddingValue = layer._properties.padding\n\n\t\t\t# Check if we have a single number as integer\n\t\t\tif Number.isInteger(paddingValue)\n\t\t\t\treturn calculatePixelRatio(layer, paddingValue)\n\n\t\t\t# If we have multiple values they come as string (e.g. \"1 2 3 4\")\n\t\t\tpaddingValues = layer._properties.padding.split(\" \")\n\n\t\t\tswitch paddingValues.length\n\t\t\t\twhen 4\n\t\t\t\t\tpadding.top = parseFloat(paddingValues[0])\n\t\t\t\t\tpadding.right = parseFloat(paddingValues[1])\n\t\t\t\t\tpadding.bottom = parseFloat(paddingValues[2])\n\t\t\t\t\tpadding.left = parseFloat(paddingValues[3])\n\n\t\t\t\twhen 3\n\t\t\t\t\tpadding.top = parseFloat(paddingValues[0])\n\t\t\t\t\tpadding.right = parseFloat(paddingValues[1])\n\t\t\t\t\tpadding.bottom = parseFloat(paddingValues[2])\n\t\t\t\t\tpadding.left = parseFloat(paddingValues[1])\n\n\t\t\t\twhen 2\n\t\t\t\t\tpadding.top = parseFloat(paddingValues[0])\n\t\t\t\t\tpadding.right = parseFloat(paddingValues[1])\n\t\t\t\t\tpadding.bottom = parseFloat(paddingValues[0])\n\t\t\t\t\tpadding.left = parseFloat(paddingValues[1])\n\n\t\t\t\telse\n\t\t\t\t\tpadding.top = parseFloat(paddingValues[0])\n\t\t\t\t\tpadding.right = parseFloat(paddingValues[0])\n\t\t\t\t\tpadding.bottom = parseFloat(paddingValues[0])\n\t\t\t\t\tpadding.left = parseFloat(paddingValues[0])\n\n\t\t\t# Return as 4-value string (e.g \"1px 2px 3px 4px\")\n\t\t\t\"#{padding.top * pixelMultiplier}px #{padding.right * pixelMultiplier}px #{padding.bottom * pixelMultiplier}px #{padding.left * pixelMultiplier}px\"\n\t)\n\nexports.keyboardLayer.states =\n\tshown:\n\t\ty: Screen.height - imageHeight\n\nexports.keyboardLayer.states.animationOptions =\n\tcurve: \"spring(500,50,15)\"\n\nclass exports.Input extends Layer\n\t@define \"style\",\n\t\tget: -> @input.style\n\t\tset: (value) ->\n\t\t\t_.extend @input.style, value\n\n\t@define \"value\",\n\t\tget: -> @input.value\n\t\tset: (value) ->\n\t\t\t@input.value = value\n\n\tconstructor: (options = {}) ->\n\t\toptions.setup ?= false\n\t\toptions.width ?= Screen.width\n\t\toptions.clip ?= false\n\t\toptions.height ?= 60\n\t\toptions.backgroundColor ?= if options.setup then \"rgba(255, 60, 47, .5)\" else \"transparent\"\n\t\toptions.fontSize ?= 30\n\t\toptions.lineHeight ?= 1\n\t\toptions.padding ?= 10\n\t\toptions.text ?= \"\"\n\t\toptions.placeholder ?= \"\"\n\t\toptions.virtualKeyboard ?= if Utils.isMobile() then false else true\n\t\toptions.type ?= \"text\"\n\t\toptions.goButton ?= false\n\t\toptions.autoCorrect ?= \"on\"\n\t\toptions.autoComplete ?= \"on\"\n\t\toptions.autoCapitalize ?= \"on\"\n\t\toptions.spellCheck ?= \"on\"\n\t\toptions.autofocus ?= false\n\t\toptions.textColor ?= \"#000\"\n\t\toptions.fontFamily ?= \"-apple-system\"\n\t\toptions.fontWeight ?= \"500\"\n\t\toptions.submit ?= false\n\t\toptions.tabIndex ?= 0\n\n\t\tsuper options\n\n\t\t# Add additional properties\n\t\t@_properties.fontSize = options.fontSize\n\t\t@_properties.lineHeight = options.lineHeight\n\t\t@_properties.padding = options.padding\n\n\t\t@placeholderColor = options.placeholderColor if options.placeholderColor?\n\t\t@input = document.createElement \"input\"\n\t\t@input.id = \"input-#{_.now()}\"\n\n\t\t# Add styling to the input element\n\t\t@input.style.width = _inputStyle[\"width\"](@)\n\t\t@input.style.height = _inputStyle[\"height\"](@)\n\t\t@input.style.fontSize = _inputStyle[\"fontSize\"](@)\n\t\t@input.style.lineHeight = _inputStyle[\"lineHeight\"](@)\n\t\t@input.style.outline = \"none\"\n\t\t@input.style.border = \"none\"\n\t\t@input.style.backgroundColor = options.backgroundColor\n\t\t@input.style.padding = _inputStyle[\"padding\"](@)\n\t\t@input.style.fontFamily = options.fontFamily\n\t\t@input.style.color = options.textColor\n\t\t@input.style.fontWeight = options.fontWeight\n\n\t\t@input.value = options.text\n\t\t@input.type = options.type\n\t\t@input.placeholder = options.placeholder\n\t\t@input.setAttribute \"tabindex\", options.tabindex\n\t\t@input.setAttribute \"autocorrect\", options.autoCorrect\n\t\t@input.setAttribute \"autocomplete\", options.autoComplete\n\t\t@input.setAttribute \"autocapitalize\", options.autoCapitalize\n\t\tif options.autofocus == true\n\t\t\t@input.setAttribute \"autofocus\", true\n\t\t@input.setAttribute \"spellcheck\", options.spellCheck\n\t\t@form = document.createElement \"form\"\n\n\t\tif (options.goButton && !options.submit) || !options.submit\n\t\t\t@form.action = \"#\"\n\t\t\t@form.addEventListener \"submit\", (event) ->\n\t\t\t\tevent.preventDefault()\n\n\t\t@form.appendChild @input\n\t\t@_element.appendChild @form\n\n\t\t@backgroundColor = \"transparent\"\n\t\t@updatePlaceholderColor options.placeholderColor if @placeholderColor\n\n\t\t#only show honor virtual keyboard option when not on mobile,\n\t\t#otherwise ignore\n\t\tif !Utils.isMobile() && options.virtualKeyboard is true\n\t\t\t@input.addEventListener \"focus\", ->\n\t\t\t\texports.keyboardLayer.bringToFront()\n\t\t\t\texports.keyboardLayer.stateCycle()\n\t\t\t@input.addEventListener \"blur\", ->\n\t\t\t\texports.keyboardLayer.animate(\"default\")\n\n\tupdatePlaceholderColor: (color) ->\n\t\t@placeholderColor = color\n\t\tif @pageStyle?\n\t\t\tdocument.head.removeChild @pageStyle\n\t\t@pageStyle = document.createElement \"style\"\n\t\t@pageStyle.type = \"text/css\"\n\t\tcss = \"##{@input.id}::-webkit-input-placeholder { color: #{@placeholderColor}; }\"\n\t\t@pageStyle.appendChild(document.createTextNode css)\n\t\tdocument.head.appendChild @pageStyle\n\n\tfocus: () ->\n\t\t@input.focus()\n\n\tonFocus: (cb) ->\n\t\t@input.addEventListener \"focus\", ->\n\t\t\tcb.apply(@)\n\n\tonBlur: (cb) ->\n\t\t@input.addEventListener \"blur\", ->\n\t\t\tcb.apply(@)\n"
  ]
}